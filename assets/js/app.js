(function(){var e,s,t;window.skip=!1,$(".single-selection-form .candidate.selection").each(function(){return $(this).click(function(){return $(this).hasClass("selected")?($(".candidate.selection").removeClass("selected"),$("#selection").val("")):($("#selection").val($(this).children(".id").html()),$(".candidate.selection").removeClass("selected"),$(this).addClass("selected"))})}),$(".multiple-selection-form .candidate.selection").each(function(){return $(this).click(function(){var e,s,t,i,n;for($(this).hasClass("selected")?($(this).removeClass("selected"),$(this).removeClass("multiple-selected"),$("#selection").val("")):$(this).addClass("selected"),i=[],$(".candidate.selection.selected").length>1&&$(".candidate.selection.selected").addClass("multiple-selected"),$(".candidate.selection.selected").length<2&&$(".candidate.selection.selected").removeClass("multiple-selected"),t=$(".candidate.selection.selected"),e=0,s=t.length;s>e;e++)n=t[e],i.push($(n).children(".id").html());return $("#selection").val(i.join(","))})}),$(".token-form").submit(function(){return $("#password1").val().match("[A-Z][0-9][A-Z]{2}")&&$("#password2").val().match("[A-Z]{3}")&&$("#password3").val().match("[A-Z]{3}")?!0:($(".input").addClass("error animated shake"),setTimeout(function(){return $(".input").removeClass("shake")},1e3),$("#password3").focus(),!1)}),$(".single-selection-form").submit(function(){var e;return $(".candidate.selection.selected")[0]?(e=$(".candidate.selection.selected").children(".name").html().replace(/\<\/?div\>/g,"").replace(/\n/g,"").trim().replace(/ +/,", "),window.skip||confirm("\u60a8\u6c7a\u5b9a\u6295\u7d66 "+$("#selection").val()+" \u865f "+e+"\uff0c\u78ba\u5b9a\u55ce\uff1f\n You\u2019ve decided to vote for No. "+$("#selection").val()+" - "+e+", is that right?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1):window.skip||confirm("\u60a8\u6c7a\u5b9a\u6295\u7a7a\u767d\u5ee2\u7968\uff0c\u78ba\u5b9a\u55ce\uff1f\n You\u2019ve decided to cast a blank ballot, is that right?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1}),$(".multiple-selection-form").submit(function(){var e;return $(this).hasClass("choose-one")?1===$(".candidate.selection.selected").length?(e=$(".candidate.selection.selected").children(".name").html().replace(/\<\/?div\>/g,"").replace(/\n/g,"").trim().replace(/ +/,", "),window.skip||confirm("\u60a8\u6c7a\u5b9a\u6295\u7d66 "+$("#selection").val()+" \u865f "+e+"\uff0c\u78ba\u5b9a\u55ce\uff1f\n You\u2019ve decided to vote for No. "+$("#selection").val()+" - "+e+", is that right?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1):0===$(".candidate.selection.selected").length?window.skip||confirm("\u60a8\u6c7a\u5b9a\u6295\u7a7a\u767d\u5ee2\u7968\uff0c\u78ba\u5b9a\u55ce\uff1f\n You\u2019ve decided to cast a blank ballot, is that right?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1:window.skip||confirm("\u60a8\u9078\u64c7\u591a\u500b\u5019\u9078\u4eba\uff0c\u5c07\u6703\u8b8a\u6210\u5ee2\u7968\uff0c\u662f\u5426\u9001\u51fa\uff1f\n Selecting multiple candidates will cause this ballot to become invalid, are you sure you want to submit?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1:window.skip||confirm("\u78ba\u5b9a\u9001\u51fa\uff1f\n Are you sure you want to submit?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1}),$(".agree-or-disagree-form").submit(function(){return window.skip||confirm("\u78ba\u5b9a\u9001\u51fa\uff1f\n Are you sure you want to submit?")?($('input[type="submit"]').prop("disabled",!0),$("body").addClass("sending"),!0):!1}),$("button.skip").click(function(){return confirm("\u78ba\u5b9a\u4e0d\u9818\u6b64\u6295\u7968\uff1f\n Are you sure you want to skip?")?($("input.skipped").val(!0),$(".candidate.selection").removeClass("selected"),$("#selection").val(""),$("input.none").prop("checked",!0),window.skip=!0,$("body").addClass("skipping"),!0):!1}),setTimeout(function(){return $(".input").removeClass("shake")},1e3),((null!=(e=$("#password3").val())?e.length:void 0)>0||(null!=(s=$("#password2").val())?s.length:void 0)>0||(null!=(t=$("#password1").val())?t.length:void 0)>0)&&($("#password1").val(""),$("#password2").val(""),$("#password3").val("")),$("#password1").keyup(function(){return $(this).val($(this).val().toUpperCase()),$(this).val().length>=$(this).attr("maxlength")?($("#password2").focus(),setTimeout(function(){return $("#password2").focus()},1e3)):void 0}),$("#password2").keyup(function(){return $(this).val($(this).val().toUpperCase()),$(this).val().length>=$(this).attr("maxlength")?$("#password3").focus():void 0}),$("#password3").keyup(function(){return $(this).val($(this).val().toUpperCase())}),$("#password1").keydown(function(){return $(".input").removeClass("error")}),$("#password2").keydown(function(e){return $(".input").removeClass("error"),0!==$(this).val().length||8!==e.keyCode&&37!==e.keyCode?void 0:$("#password1").focus()}),$("#password3").keydown(function(e){return $(".input").removeClass("error"),0!==$(this).val().length||8!==e.keyCode&&37!==e.keyCode?void 0:$("#password2").focus()})}).call(this);